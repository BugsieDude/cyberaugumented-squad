extend class CyberaugumentedMonsterEventHandler
{	
	protected void IntoneSpawner()
	{
		if (level.mapname == "TEST" || level.mapname == "TITLEMAP") return;
		
		for (int i = 0; i < level.Sectors.Size(); i++) {
			Sector curSec = level.Sectors[i];
			
			vector3 s = GetSectorVec3(curSec); 
			double secSize = (s.x + s.y) / 2;
			
			vector3 c = (curSec.centerspot.x + (frandom(-s.x, s.x) / 2), curSec.centerspot.y + (frandom(-s.y, s.y) / 2), curSec.floorplane.ZAtPoint(curSec.centerspot) + (frandom(0, s.z) / 2));
			if (!level.IsPointInLevel(c))	continue;
			if (curSec.floorplane.ZAtPoint(curSec.centerspot) == curSec.ceilingplane.ZAtPoint(curSec.centerspot)) continue;
			
			if (secsize < 150) continue;
			
			//spawn the initial droid
			if (!random(0, 720))
			{
				console.printf("sector %d size %d",curSec.sectornum,secSize);
				actor intone = actor.spawn("DCY_Intone", c);
				if (!intone) continue;
			}
			
			//spawn the orb
			if (!random(0, 750))
			{
				console.printf("\cgsector %d size %d",curSec.sectornum,secSize);
				actor orb = actor.spawn("DCY_Asura", c);
				if (!orb) continue;
			}
		}
	}
}